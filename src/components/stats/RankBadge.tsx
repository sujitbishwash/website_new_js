/**
 * A helper function to generate a lighter or darker shade of a given hex color.
 * @param {string} color - The base hex color (e.g., '#4285F4').
 * @param {number} percent - The percentage to lighten or darken. Negative for darker, positive for lighter.
 * @returns {string} The new hex color.
 */
const generateShade = (color: string, percent: number): string => {
  let R = parseInt(color.substring(1, 3), 16);
  let G = parseInt(color.substring(3, 5), 16);
  let B = parseInt(color.substring(5, 7), 16);

  R = Math.round((R * (100 + percent)) / 100);
  G = Math.round((G * (100 + percent)) / 100);
  B = Math.round((B * (100 + percent)) / 100);

  R = (R < 255) ? R : 255;
  G = (G < 255) ? G : 255;
  B = (B < 255) ? B : 255;
  
  R = (R > 0) ? R : 0;
  G = (G > 0) ? G : 0;
  B = (B > 0) ? B : 0;

  const RR = ((R.toString(16).length === 1) ? `0${R.toString(16)}` : R.toString(16));
  const GG = ((G.toString(16).length === 1) ? `0${G.toString(16)}` : G.toString(16));
  const BB = ((B.toString(16).length === 1) ? `0${B.toString(16)}` : B.toString(16));

  return `#${RR}${GG}${BB}`;
};


/**
 * Badge Component: Displays a number within a colored, shape-like SVG.
 * @param {object} props - The component's props.
 * @param {number} props.number - The number to display inside the badge.
 * @param {string} [props.color='#4285F4'] - The background color of the badge. Defaults to Google Blue.
 */
interface RankBadgeProps {
  number: number;
  color?: string;
}

const RankBadge: React.FC<RankBadgeProps> = ({ number, color = '#FFD60A' }) => {
    const darkShade = generateShade(color, -30);
    const darkerShade = generateShade(color, -15);
    const lighterShade = generateShade(color, 30);
    const baseColor = color;
  
  return (
    // We add a margin utility class for spacing when used in a flex container.
    <div className="relative w-[56px]">
       <svg xmlns="http://www.w3.org/2000/svg" width="56" height="56" viewBox="0 0 1024 1024">
            <path d="M502.5 259.589c-26.221 2.59-41.763 5.801-63.5 13.123-17.679 5.954-29.421 11.157-43.398 19.229-4.818 2.782-8.974 5.059-9.236 5.059-.988 0-13.264 8.707-23.635 16.763-14.237 11.059-32.029 28.617-40.268 39.736-1.63 2.2-3.326 4.45-3.77 5-13.334 16.54-29.282 44.849-37.181 66.001-13.737 36.786-18.299 64.252-17.19 103.5.535 18.932 2.216 34.869 4.851 46 1.664 7.026 8.851 31.165 10.273 34.5.703 1.65 3.235 7.725 5.627 13.5 17.529 42.323 53.031 84.954 91.818 110.252 6.955 4.536 13.538 8.808 14.627 9.493 5.643 3.547 26.269 13.441 35.482 17.02 25.876 10.052 46.147 14.906 71.672 17.16 65.109 5.75 124.461-10.598 178.632-49.204 36.737-26.181 66.175-63.472 85.64-108.485 17.63-40.772 23.573-96.251 15.505-144.736-4.611-27.705-17.416-62.635-31.712-86.5-31.226-52.129-75.699-89.534-132.503-111.444-17.081-6.588-34.617-11.001-56.234-14.152-9.962-1.452-46.933-2.661-55.5-1.815m-3.098 17.4c-42.398 3.578-87.494 19.785-123.402 44.349-15.809 10.815-37.869 31.22-50.446 46.662-14.386 17.663-31.182 46.291-39.498 67.324-23.025 58.231-21.962 124.367 2.959 184.113 6.058 14.524 9.29 20.627 18.301 34.563 20.384 31.522 40.921 52.45 71.184 72.537 33.827 22.454 73.202 36.594 115.632 41.527 13.592 1.58 57.894.663 71.024-1.469 25.114-4.08 54.421-13.808 78.344-26.006 13.511-6.888 34.342-19.952 39.5-24.771 1.375-1.285 5.425-4.644 9-7.465 14.642-11.554 34.051-34.211 46.664-54.473 25.478-40.931 37.367-82.885 37.316-131.681-.021-20.257-1.419-33.535-5.34-50.699-8.066-35.307-22.129-66.422-42.035-93-18.786-25.084-38.445-43.369-65.605-61.02-30.885-20.073-65.274-33.165-101.302-38.566-15.159-2.272-46.647-3.246-62.296-1.925" fill={darkShade} fillRule="evenodd"/>
            <path d="M516.789 258.741c3.459.196 8.859.195 12-.003s.311-.358-6.289-.356-9.17.164-5.711.359m-17.387 18.248c-42.398 3.578-87.494 19.785-123.402 44.349-15.809 10.815-37.869 31.22-50.446 46.662-14.386 17.663-31.182 46.291-39.498 67.324-23.025 58.231-21.962 124.367 2.959 184.113 6.058 14.524 9.29 20.627 18.301 34.563 20.384 31.522 40.921 52.45 71.184 72.537 33.827 22.454 73.202 36.594 115.632 41.527 13.592 1.58 57.894.663 71.024-1.469 25.114-4.08 54.421-13.808 78.344-26.006 13.511-6.888 34.342-19.952 39.5-24.771 1.375-1.285 5.425-4.644 9-7.465 14.642-11.554 34.051-34.211 46.664-54.473 25.478-40.931 37.367-82.885 37.316-131.681-.021-20.257-1.419-33.535-5.34-50.699-8.066-35.307-22.129-66.422-42.035-93-18.786-25.084-38.445-43.369-65.605-61.02-30.885-20.073-65.274-33.165-101.302-38.566-15.159-2.272-46.647-3.246-62.296-1.925M366.25 310.062c-2.887 2.216-5.25 4.248-5.25 4.516s2.475-1.382 5.5-3.666c4.776-3.605 6.228-4.96 5.25-4.896-.137.009-2.613 1.83-5.5 4.046M706 334.5c5.203 5.225 9.685 9.5 9.96 9.5s-3.757-4.275-8.96-9.5-9.685-9.5-9.96-9.5 3.757 4.275 8.96 9.5M274.612 441.624c-.886 2.603-1.579 5.215-1.539 5.804s.939-1.367 1.997-4.348 1.751-5.593 1.539-5.804-1.11 1.745-1.997 4.348M263.4 519.5c.001 8.25.156 11.492.344 7.204.188-4.287.187-11.037-.002-15-.19-3.962-.343-.454-.342 7.796m518.995 1c.001 7.7.158 10.718.348 6.706.191-4.011.189-10.311-.002-14-.192-3.688-.348-.406-.346 7.294M754.5 636c-1.939 3.85-3.3 7-3.025 7s2.086-3.15 4.025-7 3.3-7 3.025-7-2.086 3.15-4.025 7m-24.601 39.25c-5.279 6.862-5.651 7.446-3.851 6.045 1.742-1.355 8.339-10.295 7.598-10.295-.263 0-1.949 1.913-3.747 4.25m-9.399 11.885c-4.529 6.17-27.542 28.012-36.815 34.942-4.502 3.365-11.673 8.399-15.935 11.187s-7.583 5.236-7.378 5.441c.514.514 11.268-6.678 22.626-15.134 13.243-9.858 44.633-40.639 41.351-40.547-.467.013-2.199 1.863-3.849 4.111M337 700.5c3.543 3.575 6.667 6.5 6.942 6.5s-2.399-2.925-5.942-6.5-6.667-6.5-6.942-6.5 2.399 2.925 5.942 6.5m84.879 57.022c2.959 1.404 5.565 2.367 5.792 2.14s-1.519-1.192-3.88-2.147c-6.842-2.766-7.748-2.763-1.912.007m94.327 20.219c3.689.191 9.989.193 14 .002 4.012-.19.994-.347-6.706-.348s-10.982.154-7.294.346" fill={darkerShade} fillRule="evenodd"/>
            <path d="M512.423 141.396c-11.375 2.247-14.804 4.543-41.811 27.992-3.238 2.812-6.388 5.575-7 6.141-2.46 2.274-36.964 31.791-49.612 42.44-20.186 16.997-25.698 20.168-40.859 23.506-21.054 4.636-86.192 18.377-101.641 21.441-5.5 1.091-11.575 2.538-13.5 3.216-12.387 4.359-24.764 16.124-30.189 28.696L224.5 302.5l-.571 69c-.352 42.583-.965 70.361-1.601 72.556-1.168 4.033-8.326 18.434-16.872 33.944-3.182 5.775-6.764 12.3-7.96 14.5s-5.022 9.175-8.502 15.5c-13.088 23.788-15.774 28.683-19.48 35.5-2.092 3.85-4.126 7.45-4.519 8-2.938 4.11-9.353 17.536-11.452 23.964-1.975 6.051-2.541 9.829-2.532 16.914.02 16.908 4.693 26.426 19.948 40.629 5.892 5.486 11.621 10.765 12.732 11.733 1.924 1.678 15.644 14.268 30.795 28.26a3061 3061 0 0 0 16.967 15.5c29.704 26.927 37.832 35.156 41.105 41.614 4.294 8.473 17.128 36.109 36.635 78.886 9.907 21.725 19.176 41.975 20.597 45 7.038 14.983 26.031 27 42.674 27 7.8 0 31.636-4.466 72.036-13.498 7.482-1.673 9.245-2.044 40-8.442 35.224-7.327 36.857-7.558 44.853-6.341 3.931.598 15.697 2.916 26.147 5.151 47.459 10.15 81.699 17.338 100.824 21.164 22.478 4.498 36.63.859 50.688-13.034 6.199-6.125 7.088-7.624 15.439-26 4.873-10.725 10.534-23.1 12.579-27.5s4.85-10.475 6.235-13.5c26.716-58.379 32.528-70.318 37.34-76.693 1.326-1.756 9.044-9.173 17.153-16.481 19.871-17.909 23.533-21.241 31.72-28.859 3.862-3.593 11.972-11.018 18.022-16.5S856.725 650.275 857 650s5.442-5 11.483-10.5c6.04-5.5 11.463-10.45 12.05-11 2.053-1.924 9.036-12.027 10.368-15 4.128-9.217 5.158-22.962 2.571-34.303-1.907-8.361-5.397-15.31-29.226-58.197-1.376-2.475-4.184-7.65-6.242-11.5a8245 8245 0 0 0-13.751-25.5c-12.985-23.997-17.406-32.485-19.791-38-1.847-4.27-1.975-8.032-2.504-73.5-.514-63.629-.7-69.378-2.389-73.858-3.132-8.312-6.739-13.914-13.045-20.263-8.573-8.63-16.601-12.47-33.024-15.794-4.4-.89-11.15-2.277-15-3.081s-16-3.327-27-5.608c-46.679-9.679-68.363-14.815-74.603-17.671-7.593-3.475-13.924-8.175-31.502-23.385-32.952-28.515-66.938-57.717-71.686-61.594-6.873-5.614-12.6-8.208-21.709-9.836-8.925-1.595-11.562-1.597-19.577-.014M499.5 257.678c-2.2.187-9.877 1.251-17.061 2.363-55.934 8.658-106.357 34.434-145.021 74.134-8.213 8.433-19.194 21.305-23.736 27.825-22.629 32.482-35.275 59.323-44.159 93.725-9.126 35.34-9.909 83.238-1.947 119.155 2.643 11.924 9.187 32.628 13.925 44.059 15.079 36.38 42.806 73.654 73.999 99.479 14.215 11.769 15.741 12.866 29.908 21.508 41.292 25.19 82.229 37.343 130.605 38.774 45.117 1.334 84.252-7.323 124.987-27.647 59.484-29.68 105.098-80.587 127.441-142.232 11.657-32.16 16.338-62.257 15.215-97.821-.976-30.942-4.146-48.76-13.754-77.321-12.128-36.051-33.118-70.096-60.567-98.236-33.465-34.307-76.11-58.845-122.335-70.389-12.313-3.076-26.002-5.458-40.5-7.05-8.322-.913-37.73-1.118-47-.326m376 345.622c-2.868 4.428-8.991 10.565-21.638 21.688-9.701 8.531-19.849 17.537-22.553 20.012-2.703 2.475-14.788 13.275-26.854 24-39.519 35.125-44.154 40.357-52.752 59.545-5.576 12.445-40.646 89.29-43.657 95.659-4.276 9.047-16.926 19.367-28.497 23.248-10.682 3.583-14.213 3.268-55.049-4.915-67.806-13.587-89.837-17.639-99-18.209-11.942-.742-19.009.485-107.5 18.671-29.471 6.057-35.418 7.001-40.799 6.478-12.439-1.209-22.816-6.387-32.43-16.184-5.059-5.156-3.611-2.243-35.957-72.293-8.254-17.875-16.828-35.875-19.055-40-6.039-11.191-13.61-20.834-22.851-29.104a3761 3761 0 0 1-19.836-17.939c-14.365-13.087-44.053-39.456-58.228-51.717-5.86-5.069-13.791-12.62-17.623-16.779-8.246-8.948-8.253-8.942-8.956 6.539l-.477 10.5 6.356 5.953c17.414 16.309 21.09 19.711 30.308 28.047 13.566 12.268 57.745 53.011 64.658 59.63 4.71 4.508 12.89 15.487 12.89 17.3 0 .546 3.17 7.41 13.138 28.439 3.224 6.804 5.862 12.545 5.862 12.759s2.475 5.617 5.5 12.005 5.5 11.79 5.5 12.002 1.759 3.949 3.91 8.303c2.15 4.355 4.241 8.961 4.646 10.237s2.866 6.821 5.47 12.323c2.604 5.501 5.721 12.252 6.928 15.002 5.019 11.436 7.606 15.704 12.445 20.535 6.342 6.332 18.679 12.644 27.749 14.197 6.04 1.035 8.039.851 23.477-2.166 15.524-3.033 38.662-7.88 62.375-13.067a1586 1586 0 0 1 19-4.01 9991 9991 0 0 0 28.911-5.961c10.677-2.215 20.846-4.028 22.599-4.028s8.318 1.144 14.589 2.543c6.27 1.398 15.676 3.399 20.901 4.446s12.591 2.625 16.37 3.507c3.778.882 17.728 3.844 31 6.582 70.619 14.572 67.587 14.139 77.25 11.03 8.389-2.7 11.224-4.075 16.914-8.201 7.208-5.228 11.221-10.193 15.22-18.833A9195 9195 0 0 1 723.221 835c2.179-4.675 5.066-11.122 6.415-14.327s4.289-9.73 6.532-14.5c2.242-4.77 6.763-14.523 10.046-21.673 8.469-18.444 9.584-20.814 19.706-41.872 8.937-18.593 9.2-19 17.825-27.514 6.976-6.886 30.011-28.08 39.251-36.114.949-.825 6.175-5.609 11.614-10.631s11.581-10.647 13.648-12.5c21.148-18.96 30.666-27.76 32.248-29.816 1.532-1.989 1.894-4.232 1.939-12 .055-9.611-.933-17.106-2.24-16.99-.388.034-2.505 2.841-4.705 6.237" fill={lighterShade} fillRule="evenodd"/>
            <path d="M499.5 257.678c-2.2.187-9.877 1.251-17.061 2.363-55.934 8.658-106.357 34.434-145.021 74.134-8.213 8.433-19.194 21.305-23.736 27.825-22.629 32.482-35.275 59.323-44.159 93.725-9.126 35.34-9.909 83.238-1.947 119.155 2.643 11.924 9.187 32.628 13.925 44.059 15.079 36.38 42.806 73.654 73.999 99.479 14.215 11.769 15.741 12.866 29.908 21.508 41.292 25.19 82.229 37.343 130.605 38.774 45.117 1.334 84.252-7.323 124.987-27.647 59.484-29.68 105.098-80.587 127.441-142.232 11.657-32.16 16.338-62.257 15.215-97.821-.976-30.942-4.146-48.76-13.754-77.321-12.128-36.051-33.118-70.096-60.567-98.236-33.465-34.307-76.11-58.845-122.335-70.389-12.313-3.076-26.002-5.458-40.5-7.05-8.322-.913-37.73-1.118-47-.326m7 .989c-78.442 4.814-148.558 43.58-194.13 107.333-40.633 56.842-57.249 128.529-45.78 197.5 6.822 41.027 24.772 80.852 52.284 116 41.282 52.741 105.09 88.246 173.738 96.674 15.405 1.892 49.46 1.605 64.888-.545 34.158-4.762 70.568-17.094 95.852-32.464 3.769-2.291 7-4.165 7.179-4.165.744 0 13.609-8.834 22.469-15.429 10.948-8.148 30.396-26.656 39.48-37.571 26.67-32.045 45.838-70.539 54.027-108.5 4.543-21.059 5.863-33.709 5.895-56.5.048-33.797-3.304-55.68-13.019-85C750.19 378.073 711.187 328.901 659 296.835c-45.229-27.79-99.651-41.411-152.5-38.168m369 344.633c-2.868 4.428-8.991 10.565-21.638 21.688-9.701 8.531-19.849 17.537-22.553 20.012-2.703 2.475-14.788 13.275-26.854 24-39.519 35.125-44.154 40.357-52.752 59.545-5.576 12.445-40.646 89.29-43.657 95.659-4.276 9.047-16.926 19.367-28.497 23.248-10.682 3.583-14.213 3.268-55.049-4.915-67.806-13.587-89.837-17.639-99-18.209-11.942-.742-19.009.485-107.5 18.671-29.471 6.057-35.418 7.001-40.799 6.478-12.439-1.209-22.816-6.387-32.43-16.184-5.059-5.156-3.611-2.243-35.957-72.293-8.254-17.875-16.828-35.875-19.055-40-6.039-11.191-13.61-20.834-22.851-29.104a3761 3761 0 0 1-19.836-17.939c-14.365-13.087-44.053-39.456-58.228-51.717-5.86-5.069-13.791-12.62-17.623-16.779-8.246-8.948-8.253-8.942-8.956 6.539l-.477 10.5 6.356 5.953c17.414 16.309 21.09 19.711 30.308 28.047 13.566 12.268 57.745 53.011 64.658 59.63 4.71 4.508 12.89 15.487 12.89 17.3 0 .546 3.17 7.41 13.138 28.439 3.224 6.804 5.862 12.545 5.862 12.759s2.475 5.617 5.5 12.005 5.5 11.79 5.5 12.002 1.759 3.949 3.91 8.303c2.15 4.355 4.241 8.961 4.646 10.237s2.866 6.821 5.47 12.323c2.604 5.501 5.721 12.252 6.928 15.002 5.019 11.436 7.606 15.704 12.445 20.535 6.342 6.332 18.679 12.644 27.749 14.197 6.04 1.035 8.039.851 23.477-2.166 15.524-3.033 38.662-7.88 62.375-13.067a1586 1586 0 0 1 19-4.01 9991 9991 0 0 0 28.911-5.961c10.677-2.215 20.846-4.028 22.599-4.028s8.318 1.144 14.589 2.543c6.27 1.398 15.676 3.399 20.901 4.446s12.591 2.625 16.37 3.507c3.778.882 17.728 3.844 31 6.582 70.619 14.572 67.587 14.139 77.25 11.03 8.389-2.7 11.224-4.075 16.914-8.201 7.208-5.228 11.221-10.193 15.22-18.833A9195 9195 0 0 1 723.221 835c2.179-4.675 5.066-11.122 6.415-14.327s4.289-9.73 6.532-14.5c2.242-4.77 6.763-14.523 10.046-21.673 8.469-18.444 9.584-20.814 19.706-41.872 8.937-18.593 9.2-19 17.825-27.514 6.976-6.886 30.011-28.08 39.251-36.114.949-.825 6.175-5.609 11.614-10.631s11.581-10.647 13.648-12.5c21.148-18.96 30.666-27.76 32.248-29.816 1.532-1.989 1.894-4.232 1.939-12 .055-9.611-.933-17.106-2.24-16.99-.388.034-2.505 2.841-4.705 6.237" fill={baseColor} fillRule="evenodd"/>
        </svg>
        {/* We use absolute positioning to center the text over the SVG */}
       <div className="absolute inset-0 flex items-center justify-center pointer-events-none">
         <span 
           className="text-white text-md font-bold" 
           style={{ textShadow: '0px 0px 6px rgba(0,0,0,0.5)' }}
         >
           {number}
         </span>
       </div>
    </div>
  );
};

export default RankBadge;